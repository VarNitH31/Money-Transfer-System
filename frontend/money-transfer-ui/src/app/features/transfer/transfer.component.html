<div class="transfer-layout">
  <section class="transfer-card">
    <header class="transfer-header">
      <h1>Fund Transfer</h1>
      <p>Move funds securely between accounts.</p>
    </header>

    <div class="from-account">
      <label>From account</label>
      <div class="from-value">
        {{ fromAccountDisplay }}
      </div>
    </div>

    <form [formGroup]="form" (ngSubmit)="submit()" class="transfer-form">
      <div
        class="form-field"
        [class.has-error]="form.controls.toAccountId.invalid && form.controls.toAccountId.touched"
      >
        <label for="toAccountId">To account</label>
        <input
          id="toAccountId"
          type="number"
          min="1"
          formControlName="toAccountId"
          placeholder="Destination account ID"
        />
        <div class="error-text" *ngIf="form.controls.toAccountId.invalid && form.controls.toAccountId.touched">
          Destination account is required.
        </div>
      </div>

      <div
        class="form-field"
        [class.has-error]="form.controls.amount.invalid && form.controls.amount.touched"
      >
        <label for="amount">Amount</label>
        <div class="amount-input">
          <span class="currency">â‚¹</span>
          <input
            id="amount"
            type="number"
            min="0.01"
            step="0.01"
            formControlName="amount"
            placeholder="0.00"
          />
        </div>
        <div class="error-text" *ngIf="form.controls.amount.invalid && form.controls.amount.touched">
          Enter a valid amount greater than 0.
        </div>
      </div>

      <div class="alert alert-success" *ngIf="successMessage">
        <strong>Success:</strong> {{ successMessage }}
        <span *ngIf="lastTransactionId"> (ID: {{ lastTransactionId }})</span>
      </div>

      <div class="alert alert-error" *ngIf="errorMessage">
        {{ errorMessage }}
      </div>

      <div class="actions-row">
        <button type="submit" class="btn-primary" [disabled]="loading">
          <span *ngIf="!loading">Transfer</span>
          <span *ngIf="loading" class="spinner"></span>
        </button>
        <button type="button" class="btn-outline" (click)="cancel()">Cancel</button>
      </div>
    </form>
  </section>
</div>

